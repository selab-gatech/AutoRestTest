# ===========================
# AutoRestTest Configuration
# ===========================

[spec]
# Relative path from the project root to the OpenAPI specification file.
# Only .yaml and .json are supported; file MUST be OpenAPI 3.0.
location = "aratrl-openapi/market2.yaml"

# Maximum times a circular/self-reference may appear in the resolution stack.
# A value of 1 means an element may be referred to exactly once before triggering the handler.
recursion_limit = 1

# Validate the OpenAPI spec strictly (errors will abort) when true; allow lenient parsing when false.
strict_validation = false

[llm]
# OpenAI model used for Value Agent (and optional Header Agent) generation.
# Must be JSON-mode compatible.
engine = "gpt-5-mini-2025-08-07"

# Sampling temperature for creative generations (0.0 = deterministic, higher = more random).
creative_temperature = 1

# Sampling temperature for strict/repair flows (e.g., retries, JSON fixes).
strict_temperature = 1

[agent]
# Upper bound on generated parameter/body combinations to keep Q-table sizes manageable.
max_combinations = 10

[agent.value]
# Enable parallel value table generation using thread pool.
# Set to false to use sequential DFS generation.
parallelize = true

# Number of worker threads for parallel generation (ignored if parallelize = false).
max_workers = 4

[agents.header]
# Whether to enable the Header Agent (uses Basic tokens). Only helpful for APIs requiring such auth.
enabled = false

[cache]
# Use the cached Semantic Operation Dependency Graph produced by a prior run.
use_cached_graph = true

# Use the cached Q-table(s) for the Value Agent (and optional Header Agent) to avoid re-running the LLM.
use_cached_table = true

# Tip: Set either cache flag to false if you changed graph construction or table generation logic to regenerate the cache.

[q_learning]
# Q-learning agent hyperparameters.
learning_rate = 0.1        # alpha
discount_factor = 0.9       # gamma
max_exploration = 1         # epsilon; decays over time to 0.1

[request_generation]
# Controls the request generation process.
# Duration for generation in seconds.
time_duration = 1200

# Probability of mutating request parameters during generation.
mutation_rate = 0.2

[custom_headers]
# Static headers to include with every request.
# Supports environment variable interpolation using ${VAR_NAME} syntax.
# Example:
# Authorization = "Bearer ${ACCESS_TOKEN}"
# X-API-Key = "static-value"
